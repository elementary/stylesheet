progressbar {
    $border-color: rgba(0, 0, 0, 0.2);
    @if $color-scheme == "dark" {
        $border-color: rgba(0, 0, 0, 0.5);
    }

    border-radius: rem(2px);

    progress,
    trough {
        border: 1px solid $border-color;
        border-radius: rem(2px);
    }

    progress {
        background-color: #{'@accent_color_300'};
        box-shadow: outset-highlight();

        &:backdrop {
            background-color: bg-color(4);
        }

        @if $color-scheme == "dark" {
            background-clip: padding-box;
        }
    }

    trough {
        background-color: bg-color(1);
        box-shadow:
            outset-highlight(),
            outset-shadow(1);
    }

    &.horizontal {
        progress,
        trough {
            @extend %outset-background;
        }

        progress {
            margin-left: -1px;
            margin-right: -1px;
        }
    }

    &.vertical {
        progress,
        trough {
            background-image:
                linear-gradient(
                    to right,
                    #{'alpha(@highlight_color, 0.2)'},
                    rgba(255, 255, 255, 0)
                );

            &:backdrop {
                background-image:
                    linear-gradient(
                        to right,
                        #{'alpha(@highlight_color, 0.35)'},
                        #{'alpha(@highlight_color, 0.3)'}
                    );
            }
        }

        progress {
            margin: -1px 0;
        }
    }
}
